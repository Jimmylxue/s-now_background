(self.webpackChunk_snow_program_background=self.webpackChunk_snow_program_background||[]).push([[745],{15392:function(n,o,e){"use strict";e.r(o);var s=e(15558),u=e.n(s),d=e(90228),E=e.n(d),D=e(26068),i=e.n(D),P=e(87999),r=e.n(P),t=e(48305),b=e.n(t),S=e(94287),W=e(45247),K=e(84645),M=e(10753),k=e(56259),j=e(3939),Q=e(36363),Z=e(54613),B=e(75271),C=e(92500),h=e(70334),w=e(30967),_=e(52676),$=function(){var O,z=K.Z.useToken(),T=z.token,U=(0,W.useModel)("@@initialState"),f=U.initialState,H=U.setInitialState,a=f==null?void 0:f.currentUser,I=(0,C.E$)(["judgeExam"],{},{refetchOnWindowFocus:!1,enabled:(a==null?void 0:a.judgeExamination)===h.FA.\u672A\u901A\u8FC7\u8003\u8BD5}),F=I.data,G=I.refetch,J=(0,B.useState)([]),L=b()(J,2),v=L[0],R=L[1],N=(0,C.sO)({onSuccess:function(A){}}),V=N.mutateAsync;(0,B.useEffect)(function(){R(F||[])},[F]);var X=function(){var m=r()(E()().mark(function A(){var x,c,g;return E()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return x=v.find(function(p){return!p.answer}),x&&M.ZP.info("\u8BF7\u5B8C\u6574\u63D0\u4EA4\u7B54\u5377"),c=0,v.forEach(function(p){p.chooseAnswer===p.answer&&(c+=10)}),l.next=6,V({score:c});case 6:if(!(c>=80)){l.next=15;break}return M.ZP.success("\u8003\u8BD5\u901A\u8FC7"),l.next=10,(0,h.dQ)(a==null?void 0:a.username);case 10:g=l.sent,localStorage.setItem("login-user",JSON.stringify(g)),(0,w.flushSync)(function(){H(function(p){return i()(i()({},p),{},{currentUser:g})})}),l.next=17;break;case 15:M.ZP.info("\u8003\u8BD5\u672A\u901A\u8FC7\uFF0C\u8BF7\u91CD\u65B0\u7B54\u9898"),G();case 17:case"end":return l.stop()}},A)}));return function(){return m.apply(this,arguments)}}();return(0,_.jsx)(S._z,{children:(0,_.jsx)(k.Z,{style:{borderRadius:8},bodyStyle:{backgroundImage:(f==null||(O=f.settings)===null||O===void 0?void 0:O.navTheme)==="realDark"?"background-image: linear-gradient(75deg, #1A1B1F 0%, #191C1F 100%)":"background-image: linear-gradient(75deg, #FBFDFF 0%, #F5F7FF 100%)"},children:(0,_.jsxs)("div",{style:{backgroundPosition:"100% -30%",backgroundRepeat:"no-repeat",backgroundSize:"274px auto",backgroundImage:"url('https://gw.alipayobjects.com/mdn/rms_a9745b/afts/img/A*BuFmQqsB2iAAAAAAAAAAAAAAARQnAQ')"},children:[(0,_.jsx)("div",{style:{fontSize:"20px",color:T.colorTextHeading},children:"\u6B22\u8FCE\u4F7F\u7528"}),(0,_.jsx)("p",{style:{fontSize:"14px",color:T.colorTextSecondary,lineHeight:"22px",marginTop:16,marginBottom:32,width:"65%"},children:"\u8003\u8BD5\u901A\u8FC7\u540E\uFF0C\u65B9\u53EF\u6210\u4E3A\u4E00\u540D\u6B63\u5F0F\u6CD5\u5B98\uFF0C\u52A0\u5165\u8BC4\u5BA1\u5458\uFF0C\u5BF9\u6848\u4EF6\u505A\u51FA\u81EA\u5DF1\u7684\u5224\u51B3"}),(a==null?void 0:a.judgeExamination)===h.FA.\u672A\u901A\u8FC7\u8003\u8BD5?(0,_.jsxs)(_.Fragment,{children:[v==null?void 0:v.map(function(m,A){return(0,_.jsxs)("div",{className:" mb-2",children:[(0,_.jsx)("p",{children:m.questionText}),(0,_.jsx)("div",{children:(0,_.jsx)(j.ZP.Group,{value:m.chooseAnswer,onChange:function(c){console.log("val",c.target.value);var g=c.target.value,y=u()(v);y[A].chooseAnswer=g,console.log("new",y),R(y)},children:(0,_.jsxs)(Q.Z,{direction:"vertical",children:[(0,_.jsx)(j.ZP,{value:"A",children:m.optionA}),(0,_.jsx)(j.ZP,{value:"B",children:m.optionB})]})})})]},A)}),(0,_.jsx)("div",{className:" mt-4 flex justify-center",children:(0,_.jsx)(Z.ZP,{type:"primary",onClick:X,children:"\u63D0\u4EA4\u7B54\u6848"})})]}):(0,_.jsx)("div",{children:"\u60A8\u5DF2\u901A\u8FC7\u8003\u8BD5"})]})})})};o.default=$},92500:function(n,o,e){"use strict";e.d(o,{E$:function(){return E},gd:function(){return P},ln:function(){return i},sO:function(){return D}});var s=e(68774),u=e(90826);function d(r){return useMutation(function(t){return post("/user/register",t)},r)}function E(r,t,b){return(0,s.useQuery)(r,function(){return(0,u.v_)("/question/questionList",t)},b)}function D(r){return(0,s.useMutation)(function(t){return(0,u.v_)("/question/submit?score=".concat(t.score),t)},r)}function i(r,t,b){return(0,s.useQuery)(r,function(){return(0,u.U2)("/question/questionPage",t)},b)}function P(r){return(0,s.useMutation)(function(t){return(0,u.U2)("/question/delete",t)},r)}},38498:function(n,o,e){var s=e(78770);function u(d){if(Array.isArray(d))return s(d)}n.exports=u,n.exports.__esModule=!0,n.exports.default=n.exports},20698:function(n){function o(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}n.exports=o,n.exports.__esModule=!0,n.exports.default=n.exports},91162:function(n){function o(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}n.exports=o,n.exports.__esModule=!0,n.exports.default=n.exports},15558:function(n,o,e){var s=e(38498),u=e(20698),d=e(31479),E=e(91162);function D(i){return s(i)||u(i)||d(i)||E()}n.exports=D,n.exports.__esModule=!0,n.exports.default=n.exports}}]);
