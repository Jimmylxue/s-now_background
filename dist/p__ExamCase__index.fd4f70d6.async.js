"use strict";(self.webpackChunk_snow_program_background=self.webpackChunk_snow_program_background||[]).push([[226],{98013:function(y,m,e){e.r(m);var r=e(67825),u=e.n(r),O=e(26068),a=e.n(O),D=e(90228),c=e.n(D),f=e(87999),t=e.n(f),n=e(48305),d=e.n(n),U=e(94287),T=e(47856),z=e(45247),P=e(10753),C=e(17054),I=e(54613),B=e(75271),j=e(92500),i=e(52676),L=["current","pageSize"],A=function(){var x=(0,B.useState)({current:1,size:10}),v=d()(x,2),p=v[0],g=v[1],h=(0,j.ln)(["questionList"],p,{onSuccess:function(){},refetchOnWindowFocus:!1}),o=h.data,W=h.refetch;console.log("data~",o);var R=function(){P.ZP.success("\u64CD\u4F5C\u6210\u529F"),W()},K=(0,j.gd)({onSuccess:R}),S=K.mutateAsync,Z={name:"file",action:"http://175.178.248.238:8080/api/question/excel",headers:{authorization:localStorage.getItem("token")},maxCount:1,beforeUpload:function(_){if(_.type!=="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"){P.ZP.error("You can only upload xlsx file!");return}return console.log("fileType",_.type),!0},onChange:function(_){if(_.file.status!=="uploading"&&console.log(_.file,_.fileList),_.file.status==="done")var l=_.file.response.data;else _.file.status==="error"&&P.ZP.error("".concat(_.file.name," file upload failed."))}},k=[{title:"\u9898\u76EE",dataIndex:"questionText",width:400},{title:"\u9009\u9879A",dataIndex:"optionA"},{title:"\u9009\u9879B",dataIndex:"optionB"},{title:"\u7C7B\u578B",dataIndex:"type"},{title:"\u6B63\u786E\u7B54\u6848",dataIndex:"answer"},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(_,l){return[(0,i.jsx)(C.Z,{placement:"top",title:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",onConfirm:t()(c()().mark(function M(){return c()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,S({id:l.id});case 2:case"end":return E.stop()}},M)})),children:(0,i.jsx)(I.ZP,{type:"primary",children:"\u5220\u9664"})})]}}];return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(U._z,{children:(0,i.jsx)(T.Z,{headerTitle:"\u9898\u5E93\u5217\u8868",pagination:{showTotal:function(_){return"\u5171\u6709".concat(_,"\u6761\u8BB0\u5F55")},total:o==null?void 0:o.total,current:p.current,pageSize:p.size,onChange:function(_,l){return g(a()(a()({},p),{},{current:_,size:l}))}},search:!1,request:function(_){var l=_.current,M=_.pageSize,b=u()(_,L);console.log("ppp",b),g(a()(a()({},b),{},{current:l,size:M}))},dataSource:(o==null?void 0:o.records)||[],columns:k},"letterId")})})};m.default=A},92500:function(y,m,e){e.d(m,{E$:function(){return a},gd:function(){return f},ln:function(){return c},sO:function(){return D}});var r=e(68774),u=e(90826);function O(t){return useMutation(function(n){return post("/user/register",n)},t)}function a(t,n,d){return(0,r.useQuery)(t,function(){return(0,u.v_)("/question/questionList",n)},d)}function D(t){return(0,r.useMutation)(function(n){return(0,u.v_)("/question/submit?score=".concat(n.score),n)},t)}function c(t,n,d){return(0,r.useQuery)(t,function(){return(0,u.U2)("/question/questionPage",n)},d)}function f(t){return(0,r.useMutation)(function(n){return(0,u.U2)("/question/delete",n)},t)}}}]);
